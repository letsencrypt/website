---
title: Тестовое окружение
slug: staging-environment
top_graphic: 1
date: 2018-01-05
lastmod: 2019-09-16
---

{{< lastmod >}}

Мы настоятельно рекомендуем производить проверку в тестовом окружении, перед тем как использовать рабочий сервер. Это позволит обнаружить проблему еще до выпуска доверенных сертификатов и уменьшит шанс столкнуться с ограничениями по лимиту.

ACME URL нашего [тестового сервера ACME v2](https://community.letsencrypt.org/t/staging-endpoint-for-acme-v2/49605):

`https://acme-staging-v02.api.letsencrypt.org/directory`

Если вы используете Certbot, тестовое окружение можно запустить с помощью флага `--dry-run`. В случае других ACME-клиентов ищите информацию по использованию нашего тестового окружения в их инструкциях. Пожалуйста, обратите внимание, что тестовое окружение v2 требует v2-совместимого ACME-клиента.

# Лимиты

В тестовом окружении используются те же лимиты, что и для [рабочих серверов]({{< relref "/docs/rate-limits.md" >}}), со следующими исключениями:

* **Сертификаты для зарегистрированного домена** --- лимит 30 000 в неделю.
* **Дубликат сертификата** --- лимит 30 000 в неделю.
* **Неудачная проверка** --- лимит 60 в час.
* **Аккаунты на IP-адрес** --- лимит 50 аккаунтов за 3 часа на один IP.
* Для ACME v2 лимит **Новые заказы** --- 1,500 новых заказов за 3 часа на аккаунт.

# Корневной сертификат

Промежуточный сертификат тестового окружения (["Fake LE Intermediate X1"](/certs/fakeleintermediatex1.pem)) выдается корневым сертификатом, **отсутствующим** в доверенном хранилище браузера/клиента. Если вы желаете модифицировать клиент, который используется только для тестов, так, чтобы он доверял тестовому окружению, вы можете добавить сертификат ["Fake LE Root X1"](/certs/fakelerootx1.pem) в ваше тестовое доверенное хранилище. Важно: Не добавляйте тестовый корневой или промежуточный сертификат в доверенное хранилище, которое вы используете для обычного серфинга и другой деятельности в сети, так как они не прошли аудит и не соответствуют стандартам наших рабочих корневых сертификатов, потому небезопасны для использования где-либо еще, кроме тестирования.

# Прозрачность сертификата

Тестовое окружение отправляет предварительные сертификаты в логи тестирования CT Let's Encrypt [Testflume]({{< relref "/docs/ct-logs.html" >}}) и Google [testtube](http://www.certificate-transparency.org/known-logs#TOC-Test-Logs) и включает возвращенные SCT в выпущенные сертификаты.
