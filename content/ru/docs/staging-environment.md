---
title: Тестовое окружение
slug: staging-environment
top_graphic: 1
date: 2018-01-05
lastmod: 2020-01-21
show_lastmod: 1
---


Мы настоятельно рекомендуем производить проверку в тестовом окружении, перед тем как использовать рабочий сервер. Это позволит обнаружить проблему еще до выпуска доверенных сертификатов и уменьшит шанс столкнуться с ограничениями по лимиту.

ACME URL нашего [тестового сервера ACME v2](https://community.letsencrypt.org/t/staging-endpoint-for-acme-v2/49605):

`https://acme-staging-v02.api.letsencrypt.org/directory`

Если вы используете Certbot, тестовое окружение можно запустить с помощью флага `--dry-run`. В случае других ACME-клиентов ищите информацию по использованию нашего тестового окружения в их инструкциях. Пожалуйста, обратите внимание, что тестовое окружение v2 требует v2-совместимого ACME-клиента.

# Лимиты

В тестовом окружении используются те же лимиты, что и для [рабочих серверов](/docs/rate-limits), со следующими исключениями:

* **Сертификаты для зарегистрированного домена** &mdash; лимит 30 000 в неделю.
* **Дубликат сертификата** &mdash; лимит 30 000 в неделю.
* **Неудачная проверка** &mdash; лимит 60 в час.
* **Аккаунты на IP-адрес** &mdash; лимит 50 аккаунтов за 3 часа на один IP.
* Для ACME v2 лимит **Новые заказы** &mdash; 1,500 новых заказов за 3 часа на аккаунт.

# Корневной сертификат

Промежуточный сертификат тестового окружения (["(STAGING) Artificial Apricot R3"](/certs/staging/letsencrypt-stg-int-r3.pem)) выдается корневым сертификатом, **отсутствующим** в доверенном хранилище браузера/клиента. Если вы желаете модифицировать клиент, который используется только для тестов, так, чтобы он доверял тестовому окружению, вы можете добавить сертификат ["(STAGING) Pretend Pear X1"](/certs/staging/letsencrypt-stg-root-x1.pem) в ваше тестовое доверенное хранилище. Важно: Не добавляйте тестовый корневой или промежуточный сертификат в доверенное хранилище, которое вы используете для обычного серфинга и другой деятельности в сети, так как они не прошли аудит и не соответствуют стандартам наших рабочих корневых сертификатов, потому небезопасны для использования где-либо еще, кроме тестирования.

# Прозрачность сертификата

Тестовое окружение отправляет предварительные сертификаты в логи тестирования CT Let's Encrypt [Testflume](/docs/ct-logs) и Google [testtube](http://www.certificate-transparency.org/known-logs#TOC-Test-Logs) и включает возвращенные SCT в выпущенные сертификаты.

# Непрерывная интеграция (CI) / Разработка

Лимиты тестового окружения достаточны для проведения тестирования, но не подходят для окружения разработки
или непрерывной интеграции (CI). Запросы к внешним серверам снижают стабильность окружения. Кроме того,
тестовое окружение не может "подделать" результаты DNS или HTTP-проверок, что усложняет проведение тестирования

В дополнение к тестовому окружению, Let's Encrypt предлагает ACME-сервер для окружения разработки и CI 
под названием [Pebble](https://github.com/letsencrypt/pebble). Запуск Pebble на машине разработчика или CI-сервере
выполняется [быстро и просто](https://github.com/letsencrypt/pebble#docker).

