---
title: Проміжне середовище
slug: staging-environment
date: 2018-01-05
lastmod: 2024-06-11
show_lastmod: 1
---


Ми наполегливо рекомендуємо проводити тестування в нашому проміжному середовищі перед використанням нашого експлуатаційного середовища. Це дозволить вам зробити все правильно перед випуском довірених сертифікатів та знизить ймовірність того, що ви зіткнетеся з обмеженнями по тарифах.

ACME URL для нашого [проміжного середовища ACME v2](https://community.letsencrypt.org/t/staging-endpoint-for-acme-v2/49605) наступний:

`https://acme-staging-v02.api.letsencrypt.org/directory`

Якщо ви використовуєте Certbot, ви можете використовувати наше середовище з прапором `--test-cert` або `--dry-run`. Для інших клієнтів ACME, будь ласка, ознайомтеся з їх інструкціями для отримання інформації про тестування з нашого проміжного середовища.

# Обмеження швидкості передачі

У проміжному середовищі використовуються ті ж обмеження швидкості передачі, які [описані для експлуатаційного середовища](/docs/rate-limits), за наступними виключеннями:

* Ліміт **Сертифікатів на зареєстрований домен** складає 30 000 в тиждень.
* Ліміт **Дублікатів сертифікатів** складає 30 000 в тиждень.
* Ліміт **Невдалих валідацій** складає 60 на годину.
* Ліміт **Облікових записів на одну IP-адресу** складає 50 акаунтів протягом 3 годин на одну IP-адресу.
* Для ACME v2 ліміт **Нових замовлень** становить 1 500 нових замовлень за тригодинний період на один рахунок.

# Ієрархія поетапного сертифікації

Оточення постановки містить ієрархію сертифікатів, яку [виробництво імітацій](/certificates). Назви були модифіковані префіксом (STAGING) та унікальною назвою, щоб вони чітко відрізнялися від своїх виробничих аналогів.

## Кореневі ЦС

Середовище staging має два активних кореневих сертифікати, які **відсутні** у сховищах довіри браузера/клієнта: "(STAGING) Pretend Pear X1" та "(STAGING) Bogus Broccoli X2".

Якщо ви бажаєте модифікувати тестовий клієнт, щоб він довіряв середовищу для тестування, ви можете зробити це, додавши його сертифікати до сховища тестових довірчих сертифікатів. **Важлива примітка:** Не додавайте корінь стабілізації або проміжний корінь до сховища довіри, яке ви використовуєте для звичайного перегляду або інших дій, оскільки вони не перевіряються і не відповідають тим же стандартам, що і наші виробничі корені, і тому їх небезпечно використовувати для чогось іншого, окрім тестування.

* **Pretend Pear X1**
  * Тема: `O = (STAGING) Internet Security Research Group, CN = (STAGING) Pretend Pear X1`
  * Тип ключа: `RSA 4096`
  * Реквізити сертифікату: [der](/certs/staging/letsencrypt-stg-root-x1.der), [pem](/certs/staging/letsencrypt-stg-root-x1.pem), [txt](/certs/staging/letsencrypt-stg-root-x1.txt)
* **Bogus Broccoli X2**
  * Тема: `O = (STAGING) Internet Security Research Group, CN = (STAGING) Bogus Broccoli X2`
  * Тип ключа: `ECDSA P-384`
  * Реквізити сертифіката (само підпис): [der](/certs/staging/letsencrypt-stg-root-x2.der), [pem](/certs/staging/letsencrypt-stg-root-x2.pem), [txt](/certs/staging/letsencrypt-stg-root-x2.txt)
  * Реквізити сертифіката (з перехресним підписом Pretend Pear X1): [der](/certs/staging/letsencrypt-stg-root-x2-signed-by-x1.der), [pem](/certs/staging/letsencrypt-stg-root-x2-signed-by-x1.pem), [txt](/certs/staging/letsencrypt-stg-root-x2-signed-by-x1.txt)

## Підпорядковані (проміжні) ЦС

Постановне середовище має проміжні сертифікати, які імітують виробництво, видані з ненадійних джерел, описаних вище. Як і на виробництві, не всі з них використовуються в будь-який час. Повний список поточних проміжних продуктів - тут:

* (STAGING) Pseudo Plum E5
* (STAGING) False Fennel E6
* (STAGING) Puzzling Parsnip E7
* (STAGING) Mysterious Mulberry E8
* (STAGING) Fake Fig E9
* (STAGING) Counterfeit Cashew R10
* (STAGING) Wannabe Watercress R11
* (STAGING) Riddling Rhubarb R12
* (STAGING) Tenuous Tomato R13
* (STAGING) Not Nectarine R14

Ці проміжні показники можуть змінюватися в будь-який час, і їх не слід прив'язувати або довіряти будь-якій системі. Загалом, можна очікувати, що проміжні продукти будуть паралельними відповідним виробничим (довіреним) проміжним продуктам. У разі крайньої потреби, ви можете отримати повну інформацію про сертифікат [тут](https://github.com/letsencrypt/website/blob/main/static/certs/staging).

# Прозорість сертифікату

Проміжне середовище відправляє попередні сертифікати в журнали тестування Let's Encrypt [testtube](/docs/ct-logs) та Google [testtub](http://www.certificate-transparency.org/known-logs#TOC-Test-Logs) CT і включає повернуті SCT у випущені сертифікати.

# Безперервна інтеграція / Тестування розвитку

Проміжне середовище має щедрі обмеження швидкості передачі для проведення тестування, але вона не дуже підходить для інтеграції із середовищами розробки або безперервної інтеграції (CI). Виконання мережевих запитів до зовнішніх серверів може привести до нестабільності, а проміжне середовище не дає можливості "підробити" DNS або перевірити успішність перевірки, що ускладнює налаштування тестів.

На додаток до проміжного середовища Let's Encrypt пропонує невеликий сервер ACME, спеціально створений для CI та середовищ розробки, під назвою [Pebble](https://github.com/letsencrypt/pebble). Запуск Pebble на вашій машині розробки або в середовищі CI - це [швидко та просто](https://github.com/letsencrypt/pebble#docker).
