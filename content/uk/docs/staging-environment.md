---
title: Проміжне середовище
slug: staging-environment
date: 2018-01-05
lastmod: 2022-06-13
show_lastmod: 1
---


Ми наполегливо рекомендуємо проводити тестування в нашому проміжному середовищі перед використанням нашого експлуатаційного середовища. Це дозволить вам зробити все правильно перед випуском довірених сертифікатів та знизить ймовірність того, що ви зіткнетеся з обмеженнями по тарифах.

ACME URL для нашого [проміжного середовища ACME v2](https://community.letsencrypt.org/t/staging-endpoint-for-acme-v2/49605) наступний:

`https://acme-staging-v02.api.letsencrypt.org/directory`

Якщо ви використовуєте Certbot, то ви можете використовувати наше проміжне середовище з прапором `--test-cert`. Для інших клієнтів ACME, будь ласка, ознайомтеся з їх інструкціями для отримання інформації про тестування з нашого проміжного середовища. Зверніть увагу, що для роботи в проміжному середовищі v2 потрібен клієнт ACME, сумісний з v2.

# Обмеження швидкості передачі

У проміжному середовищі використовуються ті ж обмеження швидкості передачі, які [описані для експлуатаційного середовища](/docs/rate-limits), за наступними виключеннями:

* Ліміт **Сертифікатів на зареєстрований домен** складає 30 000 в тиждень.
* Ліміт **Дублікатів сертифікатів** складає 30 000 в тиждень.
* Ліміт **Невдалих валідацій** складає 60 на годину.
* Ліміт **Облікових записів на одну IP-адресу** складає 50 акаунтів протягом 3 годин на одну IP-адресу.
* Для ACME v2 ліміт **Нових замовлень** становить 1 500 нових замовлень за тригодинний період на один рахунок.

# Ієрархія поетапного сертифікації

Оточення постановки містить ієрархію сертифікатів, яку [виробництво імітацій](/certificates).

## Проміжні сертифікати

Проміжне середовище має два проміжних сертифіката: RSA проміжний ["(STAGING) Artificial Apricot R3"](/certs/staging/letsencrypt-stg-int-r3.pem) і ECDSA проміжний ["(STAGING) Ersatz Edamame E1"](/certs/staging/letsencrypt-stg-int-e1.pem).

ECDSA видачу [було увімкнено у візії](https://community.letsencrypt.org/t/ecdsa-issuance-available-in-staging-march-24/147839) 24 березня 2021 року, і всі запити на постановку сертифікатів за допомогою клавіші ECDSA підписані "(СТАГІН) Ersatz Edamame E1" і використовувати ієрархію ECDSA . Подібно всі запити на постановку сертифікатів з ключами RSA підписані "(STAGING) штучна заокруглення R3" та використання ієрархії RSA . Немає можливості отримати сертифікат зі підписаним RSA для ключа ECDSA чи навпаки; спосіб контролювати, який з вас випускає - це контроль на який ключ ви генеруєте локально.

## Кореневий сертифікат

Оточення постановки має два активні кореневі сертифікати, яких **відсутнє** у браузері/клієнті, які є магазинами з довіри: "(СТАГІН) Pretend Pear X1" і "(STAGING) Bogus Broccoli x2". Якщо ви хочете змінити клієнт тесту тільки для довірированого середовища для тестування створення, ви можете зробити це шляхом додавання ["(STAGING) претендуючи на Pear X1"](/certs/staging/letsencrypt-stg-root-x1.pem) та/або ["(ПОСТАТІННЯ) Bogus Broccoli X2"](/certs/staging/letsencrypt-stg-root-x2.pem) сертифікату вашого магазину довіри до тестів. Ви можете знайти всі наші старінні сертифікати [тут](https://github.com/letsencrypt/website/tree/master/static/certs/staging).  Важливо: Не додавайте тестовий корінь або проміжний корінь в сховище довіри, яке ви використовуєте для звичайного перегляду або інших дій, оскільки вони не перевіряються та не відповідають тим же стандартам, що і наші експлуатаційні коріння, і тому їх небезпечно використовувати для інших дій, окрім тестування.

# Прозорість сертифікату

Проміжне середовище відправляє попередні сертифікати в журнали тестування Let's Encrypt [testtube](/docs/ct-logs) та Google [testtub](http://www.certificate-transparency.org/known-logs#TOC-Test-Logs) CT і включає повернуті SCT у випущені сертифікати.

# Безперервна інтеграція / Тестування розвитку

Проміжне середовище має щедрі обмеження швидкості передачі для проведення тестування, але вона не дуже підходить для інтеграції із середовищами розробки або безперервної інтеграції (CI). Виконання мережевих запитів до зовнішніх серверів може привести до нестабільності, а проміжне середовище не дає можливості "підробити" DNS або перевірити успішність перевірки, що ускладнює налаштування тестів.

На додаток до проміжного середовища Let's Encrypt пропонує невеликий сервер ACME, спеціально створений для CI та середовищ розробки, під назвою [Pebble](https://github.com/letsencrypt/pebble). Запуск Pebble на вашій машині розробки або в середовищі CI - це [швидко та просто](https://github.com/letsencrypt/pebble#docker).
